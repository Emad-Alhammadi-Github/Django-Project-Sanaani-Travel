{% extends 'basehome.html' %}
{% load static %}
{% block ttyy %}
<div class="w-full mt-[30px]">
    <div class="w-2/3 h-[70vh] mx-auto flex flex-row bg-[#ffffff] justify-between border-2 border-[#3c487b] rounded-[24px]">
        <div class="flex-1">
            <img src="{% static 'assetstravelers/image/img/Group 1171275883.svg'%}" alt>
        </div>
        <div class="flex-1 flex flex-col justify-center items-center">
            <h5 id="login-title" class="text-[20px] font-bold mb-[10px]">تسجيل الدخول</h5>

            {% if messages %}
            <div id="hiyv" class="w-2/3 px-4 py-3 rounded relative mb-4
                    {% for message in messages %}
                        {% if 'success' in message.tags %}
                            bg-green-100 border border-green-400 text-green-700
                        {% else %}
                            bg-red-100 border border-red-400 text-red-700
                        {% endif %}
                    {% endfor %}
                ">
                {% for message in messages %}
                    <p>{{ message }}</p>
                {% endfor %}
            </div>
            {% endif %}

            <div class="w-full flex mr-[125px] flex-row gap-1 justify-start items-center">
                <div class="bg-gradient-to-r from-[#8978f3] to-[#634def] w-[40px] h-[20px] flex justify-between rounded-xl px-1">
                    <img src="{% static 'assetstravelers/image/img/icons8_person_48px 1.svg'%}" width="18" alt>
                    <img src="{% static 'assetstravelers/image/img/icons8_user_shield_52px 1.svg'%}" width="14" alt>
                </div>
                <a href="#" id="toggle-form">
                    <h5 class="text-[12px] text-[#1c1c1c]">تسجيل</h5>
                </a>
            </div>

            <!-- form -->
            <form action="{% url 'login' %}" method="POST" class="w-full flex flex-col items-center mt-[10px] gap-2">
                {% csrf_token %}
                <input type="hidden" id="form-type" name="form_type" value="login">

                <div class="w-2/3 bg-[#f3f1ff] rounded-xl h-[30px] gap-2 flex flex-row items-center px-[20px]">
                    <img src="{% static 'assetstravelers/image/img/Frame.svg'%}" width="20" alt>
                    <input type="text" name="username" id="username" class="bg-transparent border-none focus:border-none text-[12px]" placeholder="اسم المستخدم">
                </div>

                <div id="email-field" class="w-2/3 bg-[#f3f1ff] rounded-xl h-[30px] gap-2 flex flex-row items-center px-[20px] hidden">
                    <img src="{% static 'assetstravelers/image/img/email-icon.svg' %}" width="20" alt>
                    <input type="email" name="email" id="email" class="bg-transparent border-none focus:border-none text-[12px]" placeholder="البريد الإلكتروني">
                </div>

                <div class="w-2/3 bg-[#f3f1ff] rounded-xl h-[30px] gap-2 flex flex-row items-center px-[20px]">
                    <img src="{% static 'assetstravelers/image/img/Frame (3).svg'%}" width="20" alt>
                    <input type="password" name="password" id="password" class="bg-transparent border-none focus:border-none text-[12px]" placeholder="كلمة المرور">
                </div>

                <button type="submit" class="bg-gradient-to-r from-[#8978f3] to-[#634def] w-[80px] h-[35px] flex rounded-xl px-1 justify-center items-center text-[12px] text-white">دخول</button>
            </form>

            <div class="mt-2 text-[12px] text-[#634def]">
                <a href="{% url 'forgot_password' %}">نسيت كلمة المرور؟</a>
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById('toggle-form').addEventListener('click', function() {
        var emailField = document.getElementById('email-field');
        var formType = document.getElementById('form-type');
        var loginTitle = document.getElementById('login-title');

        if (emailField.classList.contains('hidden')) {
            emailField.classList.remove('hidden');
            formType.value = "register";
            loginTitle.textContent = "إنشاء حساب";
        } else {
            emailField.classList.add('hidden');
            formType.value = "login";
            loginTitle.textContent = "تسجيل الدخول";
        }
    });

    setTimeout(function() {
     var hiyv = document.getElementById('hiyv');
     hiyv.classList.add('hidden');
    
    }, 3000); 
</script>

{% endblock %}







{% comment %} {% extends 'basehome.html' %}
{% load  static %}
{% block ttyy %}
<div class="w-full mt-[30px]">
    <div class="w-2/3 h-[70vh] mx-auto flex flex-row bg-[#ffffff] justify-between border-2 border-[#3c487b] rounded-[24px]">
        <div class="flex-1">
            <img src="{% static 'assetstravelers/image/img/Group 1171275883.svg'%}" alt>
        </div>
        <div class="flex-1 flex flex-col justify-center items-center">
            <h5 id="login-title" class="text-[20px] font-bold mb-[10px]">تسجيل الدخول”موظف”</h5>

            
            {% if messages %}
            <div class="w-2/3 px-4 py-3 rounded relative mb-4
                    {% for message in messages %}
                        {% if 'success' in message.tags %}
                            bg-green-100 border border-green-400 text-green-700
                        {% else %}
                            bg-red-100 border border-red-400 text-red-700
                        {% endif %}
                    {% endfor %}
                ">
                {% for message in messages %}
                    <p>{{ message }}</p>
                {% endfor %}
            </div>

        {% endif %}
        
            <div class="w-full flex mr-[125px] flex-row gap-1 justify-start items-center">
                <div class="bg-gradient-to-r from-[#8978f3] to-[#634def] w-[40px] h-[20px] flex justify-between rounded-xl px-1">
                    <img src="{% static 'assetstravelers/image/img/icons8_person_48px 1.svg'%}" width="18" alt>
                    <img src="{% static 'assetstravelers/image/img/icons8_user_shield_52px 1.svg'%}" width="14" alt>
                </div>
                <a href="javascript:void(0);" onclick="toggleLoginType()" id="toggle-link">
                    <h5 class="text-[12px] text-[$#1c1c1c]">تسجيل دخول ك أدمن</h5>
                </a>
            </div>

            <!-- form -->
            <form action="{% url 'login' %}" method="POST" class="w-full flex flex-col items-center mt-[10px] gap-2">
                {% csrf_token %}
                <div class="w-2/3 bg-[#f3f1ff] rounded-xl h-[30px] gap-2 flex flex-row items-center px-[20px]">
                    <img src="{% static 'assetstravelers/image/img/Frame.svg'%}" width="20" alt>
                    <input type="text" name="username" id="username" class="bg-transparent border-none focus:border-none text-[12px]" placeholder="اسم المستخدم">
                </div>
                <div class="w-2/3 bg-[#f3f1ff] rounded-xl h-[30px] gap-2 flex flex-row items-center px-[20px]">
                    <img src="{% static 'assetstravelers/image/img/Frame (3).svg'%}" width="20" alt>
                    <input type="password" name="password" id="password" class="bg-transparent border-none focus:border-none text-[12px]" placeholder="كلمة المرور">
                </div>
                <button type="submit" class="bg-gradient-to-r from-[#8978f3] to-[#634def] w-[80px] h-[35px] flex rounded-xl px-1 justify-center items-center text-[12px] text-white">دخول</button>
            </form>

            <div class="mt-2 text-[12px] text-[#634def]">
                <a href="{% url 'forgot_password' %}">نسيت كلمة المرور؟</a>
            </div>
        </div>
    </div>
  </div>
<script>
    function toggleLoginType() {
        const loginTitle = document.getElementById('login-title');
        const toggleLink = document.getElementById('toggle-link');

        if (loginTitle.textContent === 'تسجيل الدخول”موظف”') {
            loginTitle.textContent = 'تسجيل الدخول”أدمن”';
            toggleLink.innerHTML = '<h5 class="text-[12px] text-[$#1c1c1c]">تسجيل دخول ك موظف</h5>';
        } else {
            loginTitle.textContent = 'تسجيل الدخول”موظف”';
            toggleLink.innerHTML = '<h5 class="text-[12px] text-[$#1c1c1c]">تسجيل دخول ك أدمن</h5>';
        }
    }
</script>
{% endblock %} {% endcomment %}
